<div id='user_product_role_form', class=''>
<% user_product_role = @upr %>

<%= form_for(user_product_role, as: 'user_product_role', role: 'form'
    ) do |form| %>
    <%= form.hidden_field(:user_id) %>
    <%= form.hidden_field(:product_id) %>

    <div class="form-group">
      <label for="role_id">Role<span class="red">*</span></label>
      <%# roles_a = @upr.available_roles.map { |role| ["#{role.name} - #{role.description[0,50]}", role.id] } %>
      <% roles_a = @upr.roles_available.map { |role| ["#{role.name} - #{role.description[0,50]}", role.id] } %>
      <%= form.select(:role_id, 
                   options_for_select(roles_a),
                   {include_blank: true,
                    required: true},
                   title: "Pick a role",
                   class: "form-control",
                     ) %>
    </div>

    <div class="form-group align-right">
      <% if user_product_role.new_record? %>
        <%#= link_to 'Cancel', '/cancel-new-form', class: "btn btn-primary cancel-new-record-link", 
                                                  title: "Cancel new user product role", 
                                                  tabindex: increment_tab_index,
                                                  data: {element_id: "xxxnew-user-#{params[:random_id]}"} %>
      <% end %>
      <%= form.submit "Save", id: 'user-save', class: 'btn btn-primary width-5em', title: "Save changes", tabindex: increment_tab_index, disabled: false %>
    </div>

<% end %>
</div>
<div id="search-result-details-info-message-container" class="message-container"></div>
<div id="search-result-details-error-message-container" class="message-container"></div>

<% if @take_focus %>
  <script>
    $(document).ready(function () {
      focusOnField('user_name');
    })
  </script>
<% end %>



